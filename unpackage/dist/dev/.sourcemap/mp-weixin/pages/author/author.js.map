<<<<<<< HEAD
{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/shanpei-r/shanpei-weixin-rr/pages/author/author.vue","webpack:///C:/Users/Administrator/Desktop/shanpei-r/shanpei-weixin-rr/pages/author/author.vue?df49","webpack:///C:/Users/Administrator/Desktop/shanpei-r/shanpei-weixin-rr/pages/author/author.vue?6171","webpack:///C:/Users/Administrator/Desktop/shanpei-r/shanpei-weixin-rr/main.js","webpack:///C:/Users/Administrator/Desktop/shanpei-r/shanpei-weixin-rr/pages/author/author.vue?af9e","webpack:///C:/Users/Administrator/Desktop/shanpei-r/shanpei-weixin-rr/pages/author/author.vue?d585","webpack:///C:/Users/Administrator/Desktop/shanpei-r/shanpei-weixin-rr/pages/author/author.vue?c6c2","webpack:///C:/Users/Administrator/Desktop/shanpei-r/shanpei-weixin-rr/pages/author/author.vue?552f"],"names":["Page","App"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA,MADA,kBACA;AACA;AACA,oBADA;AAEA,gBAFA;AAGA,cAHA;AAIA,oBAJA;AAKA,qBALA;AAMA,qBANA,EAMA;AACA,mBAPA;AAQA,uBARA;AASA,qBATA,CASA;AATA;AAWA,GAbA;AAcA;AACA;AACA,iBAFA,yBAEA,MAFA,EAEA;;;AAGA;AACA;AACA,0BADA;AAEA;AACA;AACA,qDAFA,CAEA;AACA,uDAHA,CAGA;AACA;;AAEA,SARA;AASA,YATA,gBASA,GATA,EASA,EATA;;AAWA,KAjBA;;;;AAqBA;AACA,SAtBA,mBAsBA;AACA;AACA;AACA,uBADA;;;AAIA;AACA;AACA,0BADA;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA,SAVA;;AAYA,KAzCA;AA0CA;AACA,aA3CA,uBA2CA;;AAEA;AACA,0CADA;AAEA;AACA,yBADA,EAFA;;AAKA,sBALA;AAMA;;AAEA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA,yBADA;AAEA,4BAFA;AAGA;AACA;AACA,2CADA;;AAGA,eAPA;;AASA;AACA,SAxBA;;AA0BA,KAvEA;AAwEA;;AAEA,UA1EA,oBA0EA;AACA;;AAEA,KA7EA;AA8EA;AACA,WA/EA,qBA+EA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,wBAFA;;AAIA,OANA,MAMA;AACA;AACA;AACA,4BADA;AAEA,wBAFA;;AAIA,OANA,MAMA;;AAEA;AACA,uCADA;AAEA,wBAFA;AAGA;AACA,+BADA;AAEA,mCAFA;AAGA,mCAHA;AAIA,mCAJA,EAHA;;AASA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,8BAFA;AAGA;AACA;AACA,6CADA;;AAGA,iBAPA;;AASA;AACA,WAvBA;;AAyBA;AACA,KA3HA,EAdA;;AA2IA,QA3IA,oBA2IA;;AAEA;AACA,iBADA;AAEA;AACA;AACA,mCADA;;;AAIA,OAPA;AAQA;;AAEA;AACA,OAXA;;;AAcA,GA3JA,E;;;;;;;;;;;;ACvCA,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,qBAAqB,wBAAwB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,uBAAuB;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD,sBAAsB,sBAAsB;AAC5C,sBAAsB,0BAA0B;AAChD,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,yBAAyB,yBAAyB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C,mBAAmB,SAAS,uCAAuC,EAAE;AACrE;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,uBAAuB,yBAAyB;AAChD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/FA;AACA;AACI,yL;AACAA,IAAI,CAAC,+BAAYC,eAAZ,CAAD,CAAJ,C;;;;;;;;;;;;ACHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqF;AAC3B;AACL;AACc;;;AAGnE;AACoI;AACpI,gBAAgB,iJAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAivB,CAAgB,4vBAAG,EAAC,C;;;;;;;;;;;;ACArwB;AAAA;AAAA;AAAA;AAAslC,CAAgB,gkCAAG,EAAC,C;;;;;;;;;;;;ACA1mC;AAAA;AAAA;AAAA;AAAA;AAAA","file":"pages/author/author.js","sourcesContent":["<template>\r\n\t<view class=\"author\">\r\n\t\t\r\n\t\t<view v-if=\"isCanUse\">\r\n\t\t\t<view>\r\n\t\t\t\t<view class='header'>\r\n\t\t\t\t\t<image src='../../static/img/wx_login.png'></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class='content'>\r\n\t\t\t\t\t<view>申请获取以下权限</view>\r\n\t\t\t\t\t<text>\r\n\t\t\t\t\t \"获得你的公开信息(昵称，头像、地区,等)\" \r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n                <!-- <button v-show=\"getphone==2\" type='primary' open-type=\"getPhoneNumber\" @getphonenumber=\"getPhoneNumber\">授权确认</button> -->\r\n                \r\n\t\t\t\t<button v-show=\"getphone==1\" class='bottom' type='primary' open-type=\"getUserInfo\" withCredentials=\"true\" lang=\"zh_CN\" @getuserinfo=\"wxGetUserInfo\">\r\n\t\t\t\t\t授权登录\r\n\t\t\t\t</button>\r\n\t\t\t\t\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t <view class=\"writePhone\" v-if=\"writePhone\">\r\n\t\t    <view class=\"mask\"></view>\r\n\t\t\t<view class=\"getphone\">\r\n\t\t\t\t<text class=\"title\">请输入绑定手机号</text>\r\n\t\t\t\t<input type=\"text\" v-model=\"phoneNumber\"  class=\"phone-number\" placeholder=\"请输入手机号\"/>\r\n\t\t\t\t<view class=\"btns\">\r\n\t\t\t\t\t确定\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tSessionKey: '',\r\n\t\t\t\tOpenId:'',\r\n\t\t\t\tcode:\"\",\r\n\t\t\t\tnickName: null,\r\n\t\t\t\tavatarUrl: null,\r\n\t\t\t\tisCanUse:  false ,//默认为true\r\n\t\t\t    getphone:\"1\",\r\n\t\t\t\twritePhone:false,\r\n\t\t\t\tphoneNumber:\"\",  //手机号\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//第一授权获取用户信息===》按钮触发\r\n\t\t\twxGetUserInfo(detail) {\r\n\r\n\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.getUserInfo({\r\n\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\tsuccess: function(infoRes) {\r\n\t\t\t\t\t  // console.log(\"phon\",infoRes)\r\n\t\t\t\t\t\t_this.nickName = infoRes.userInfo.nickName; //昵称\r\n\t\t\t\t\t\t_this.avatarUrl = infoRes.userInfo.avatarUrl; //头像\r\n\t\t\t\t\t\t_this.writePhone=true;\t\r\n                       \r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n   \r\n  \r\n\t\t\t// //登录\r\n\t\t\t login() {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '登录中...'\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// 1.wx获取登录用户code\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\t provider: 'weixin',\r\n\t\t\t\t\tsuccess: function(loginRes) {\r\n\t\t\t\t\t\tconsole.log(loginRes)\r\n\t\t\t\t\t\t _this.code = loginRes.code;\r\n                         _this.getOpenid()\r\n\r\n\t\t\t\t\t    uni.hideLoading();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//\t2.将用户登录code传递到后台置换用户SessionKey、OpenId等信息\r\n\t\t\t\tgetOpenid(){\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: this.config.url+\"getOpenid\",\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tcode: this.code,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\t\t this.OpenId=res.data.data.openid;\r\n\t\t\t\t\t\t\t\t this.isCanUse=true;\r\n\t\t\t\t\t\t\t}else if(res.data.code==2){\r\n\t\t\t\t\t\t\tvar userinfo=JSON.stringify(res.data.data)\t\r\n\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\t\tkey:\"info\",\r\n\t\t\t\t\t\t\t\t\tdata:userinfo,\r\n\t\t\t\t\t\t\t\t\tsuccess:()=>{\r\n\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\turl:\"/pages/tabBar/home\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t//向后台更新信息\r\n\r\n\t\t\tcancel(){\r\n\t\t\t\tthis.writePhone=false;\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//确认跳转home\r\n\t\t\tconfirm(){\r\n\t\t\t\t    \r\n                var _this=this;\r\n\t\t\t\tvar result = this.phoneNumber.replace(/(^\\s+)|(\\s+$)/g,\"\");\r\n\t\t\t\tif(result.length<1){\r\n\t\t\t\t\tconsole.log(2)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请输入手机号\",\r\n\t\t\t\t\t\tduration:1000\r\n\t\t\t\t\t})\r\n\t\t\t\t}else if(!(/^1[3456789]\\d{9}$/.test(this.phoneNumber))){\r\n\t\t\t\t\tconsole.log(3)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请输入正确的手机号\",\r\n\t\t\t\t\t\tduration:1000\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:_this.config.url+\"reg\",\r\n\t\t\t\t\t\tmethod:\"POST\",\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\topenid:this.OpenId,\r\n\t\t\t\t\t\t\theadimg:this.avatarUrl,\r\n\t\t\t\t\t\t\tnickname:this.nickName,\r\n\t\t\t\t\t\t\tphone:this.phoneNumber\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess:(res)=>{\r\n\t\t\t\t\t\t\tconsole.log(\"reg\",res)\r\n\t\t\t\t\t\t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\t\tvar userinfo=JSON.stringify(res.data.data)\r\n\t\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\t\tkey:\"info\",\r\n\t\t\t\t\t\t\t\t\tdata:userinfo,\r\n\t\t\t\t\t\t\t\t\tsuccess:()=>{\r\n\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\turl:\"/pages/tabBar/home\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() { //默认加载\r\n\t\t   \r\n\t\t     uni.getStorage({\r\n\t\t     \tkey:\"info\",\r\n\t\t\t\tsuccess:(res)=>{\r\n\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\turl:\"/pages/tabBar/home\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tfail:()=>{\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.login();\r\n\t\t\t\t}\r\n\t\t     })\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.author{\r\n\t\tposition: relative;\r\n\t\twidth:100%;\r\n\t\theight:100vh;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.header {\r\n\t\tmargin: 90rpx 0 90rpx 50rpx;\r\n\t\tborder-bottom: 1px solid #ccc;\r\n\t\ttext-align: center;\r\n\t\twidth: 650rpx;\r\n\t\theight: 300rpx;\r\n\t\tline-height: 300rpx;\r\n\t}\r\n\r\n\t.header image {\r\n\t\twidth: 200rpx;\r\n\t\theight: 200rpx;\r\n\t}\r\n\r\n\t.content {\r\n\t\tmargin-left: 50rpx;\r\n\t\tmargin-bottom: 90rpx;\r\n\t}\r\n\r\n\t.content text {\r\n\t\tdisplay: block;\r\n\t\tcolor: #9d9d9d;\r\n\t\tmargin-top: 40rpx;\r\n\t}\r\n\r\n\t.bottom {\r\n\t\tborder-radius: 80rpx;\r\n\t\tmargin: 70rpx 50rpx;\r\n\t\tfont-size: 35rpx;\r\n\t}\r\n\t\r\n   .writePhone{\r\n\t  display: flex;\r\n\t  justify-content: center;\r\n\t  align-items: center;\r\n\t}\r\n\t.mask{\r\n\t\tposition:fixed;\r\n\t\tleft:0;\r\n\t\ttop:0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground: rgba(0,0,0,0.5);\r\n\t\tz-index: 98;\r\n\t}\r\n\t.getphone{\r\n\t\t \r\n\t\t\t display: flex;\r\n\t\t\t flex-direction: column;\r\n\t\t\t justify-content: center;\r\n\t\t\t align-items: center;\r\n\t\t\t box-shadow: 0 5upx 10upx #ccc;\r\n\t\t\t position:fixed;\r\n\t\t\t top:50%;\r\n\t\t\t margin-top:-200upx;\r\n\t\t\t z-index:100;\r\n\t\t\t border-radius:20upx;\r\n\t\t\t width:70%;\r\n\t\t\t height:300upx;\r\n\t\t\t background:white;\r\n\t\t\t padding-top:40upx;\r\n\t\t\t .title{\r\n\t\t\t\t \r\n\t\t\t }\r\n\t\t\t .btns{\r\n\t\t\t\t display: flex;\r\n\t\t\t\t justify-content: center;\r\n\t\t\t\t align-items: center;\r\n\t\t\t\t height:100upx;\r\n\t\t\t\t width:100%;\r\n\t\t\t\t border-top:1px solid #E6E6E6;\r\n\t\t\t\t color:#14CC21;\r\n\t\t\t\t font-size: 34upx;\r\n\t\t\t }\r\n\t\t\t .phone-number{\r\n\t\t\t\t border:1px solid #E6E6E6;\r\n\t\t\t\t height:88upx;\r\n\t\t\t\t margin:40upx 0;\r\n\t\t\t\t display: flex;\r\n\t\t\t\t justify-content: center;\r\n\t\t\t\t align-items: center;\r\n\t\t\t\t line-height:90upx;\r\n\t\t\t\t text-align: center;\r\n\t\t\t\t border-radius:88upx;\r\n\t\t\t }\r\n\t}\r\n\r\n</style>\r\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticClass: \"author\" }, [\n    _vm.isCanUse\n      ? _c(\"view\", [\n          _c(\n            \"view\",\n            [\n              _vm._m(0),\n              _vm._m(1),\n              _c(\n                \"button\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value: _vm.getphone == 1,\n                      expression: \"getphone==1\"\n                    }\n                  ],\n                  staticClass: \"bottom\",\n                  attrs: {\n                    type: \"primary\",\n                    \"open-type\": \"getUserInfo\",\n                    withCredentials: \"true\",\n                    lang: \"zh_CN\",\n                    eventid: \"0d464f50-0\"\n                  },\n                  on: { getuserinfo: _vm.wxGetUserInfo }\n                },\n                [_vm._v(\"授权登录\")]\n              )\n            ],\n            1\n          )\n        ])\n      : _vm._e(),\n    _vm.writePhone\n      ? _c(\"view\", { staticClass: \"writePhone\" }, [\n          _c(\"view\", { staticClass: \"mask\" }),\n          _c(\"view\", { staticClass: \"getphone\" }, [\n            _c(\"text\", { staticClass: \"title\" }, [_vm._v(\"请输入绑定手机号\")]),\n            _c(\"input\", {\n              directives: [\n                {\n                  name: \"model\",\n                  rawName: \"v-model\",\n                  value: _vm.phoneNumber,\n                  expression: \"phoneNumber\"\n                }\n              ],\n              staticClass: \"phone-number\",\n              attrs: {\n                type: \"text\",\n                placeholder: \"请输入手机号\",\n                eventid: \"0d464f50-1\"\n              },\n              domProps: { value: _vm.phoneNumber },\n              on: {\n                input: function($event) {\n                  if ($event.target.composing) {\n                    return\n                  }\n                  _vm.phoneNumber = $event.target.value\n                }\n              }\n            }),\n            _c(\"view\", { staticClass: \"btns\" }, [_vm._v(\"确定\")])\n          ])\n        ])\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"view\", { staticClass: \"header\" }, [\n      _c(\"image\", { attrs: { src: \"../../static/img/wx_login.png\" } })\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"view\", { staticClass: \"content\" }, [\n      _c(\"view\", [_vm._v(\"申请获取以下权限\")]),\n      _c(\"text\", [_vm._v('\"获得你的公开信息(昵称，头像、地区,等)\"')])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/author/author.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./author.vue?vue&type=template&id=779d2567&\"\nimport script from \"./author.vue?vue&type=script&lang=js&\"\nexport * from \"./author.vue?vue&type=script&lang=js&\"\nimport style0 from \"./author.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('779d2567', component.options)\n    } else {\n      api.reload('779d2567', component.options)\n    }\n    module.hot.accept(\"./author.vue?vue&type=template&id=779d2567&\", function () {\n      api.rerender('779d2567', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/shanpei-r/shanpei-weixin-rr/pages/author/author.vue\"\nexport default component.exports","import mod from \"-!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./author.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./author.vue?vue&type=script&lang=js&\"","import mod from \"-!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./author.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./author.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./author.vue?vue&type=template&id=779d2567&\""],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///C:/Users/惠普2/Desktop/shanpei-weixin/shanpei-weixin/pages/author/author.vue","webpack:///C:/Users/惠普2/Desktop/shanpei-weixin/shanpei-weixin/pages/author/author.vue?75aa","webpack:///C:/Users/惠普2/Desktop/shanpei-weixin/shanpei-weixin/pages/author/author.vue?81ee","webpack:///C:/Users/惠普2/Desktop/shanpei-weixin/shanpei-weixin/main.js","webpack:///C:/Users/惠普2/Desktop/shanpei-weixin/shanpei-weixin/pages/author/author.vue?1b60","webpack:///C:/Users/惠普2/Desktop/shanpei-weixin/shanpei-weixin/pages/author/author.vue?3d75","webpack:///C:/Users/惠普2/Desktop/shanpei-weixin/shanpei-weixin/pages/author/author.vue?1617","webpack:///C:/Users/惠普2/Desktop/shanpei-weixin/shanpei-weixin/pages/author/author.vue?ed2a"],"names":["data","SessionKey","OpenId","code","nickName","avatarUrl","isCanUse","uni","getStorageSync","getphone","writePhone","phoneNumber","methods","wxGetUserInfo","detail","_this","setOpenid","getUserInfo","provider","success","infoRes","console","log","userInfo","e","fail","res","login","showLoading","title","loginRes","hideLoading","request","url","config","method","openid","Openid","session_key","setStorage","key","updateUserInfo","getinfo","headimg","nickname","info","JSON","stringify","cancel","confirm","result","replace","length","showToast","duration","test","phone","userinfo","reLaunch","onLoad","getStorage","Page","App"],"mappings":"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","file":"pages/author/author.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tSessionKey: '',\n\t\t\t\tOpenId: '',\n\t\t\t\tcode: \"\",\n\t\t\t\tnickName: null,\n\t\t\t\tavatarUrl: null,\n\t\t\t\tisCanUse: uni.getStorageSync('info') || true, //默认为true\n\t\t\t\tgetphone: \"1\",\n\t\t\t\twritePhone: false,\n\t\t\t\tphoneNumber: \"\", //手机号\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\t//第一授权获取用户信息===》按钮触发\n\t\t\twxGetUserInfo(detail) {\n\n                \n\t\t\t\tlet _this = this;\n\t\t\t\t _this.setOpenid()\n\t\t\t\tuni.getUserInfo({\n\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\tsuccess: function(infoRes) {\n\t\t\t\t\t\t console.log(\"phon\",infoRes)\n\t\t\t\t\t\t_this.nickName = infoRes.userInfo.nickName; //昵称\n\t\t\t\t\t\t_this.avatarUrl = infoRes.userInfo.avatarUrl; //头像\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t//uni.setStorageSync('isCanUse', false); //记录是否第一次授权  false:表示不是第一次授权\n\t\t\t\t\t\t\t// _this.updateUserInfo();\n\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {}\n\t\t\t\t});\n\t\t\t},\n\n\n\n\t\t\t// //登录\n\t\t\tlogin() {\n\t\t\t\tlet _this = this;\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '登录中...'\n\t\t\t\t});\n\n\t\t\t\t// 1.wx获取登录用户code\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\tsuccess: function(loginRes) {\n\t\t\t\t\t\tconsole.log(\"loginRes\",loginRes)\n\t\t\t\t\t\t_this.code = loginRes.code;\n\t\t\t\t\t\t\n\t\t\t\t\t\t//\t2.将用户登录code传递到后台置换用户SessionKey、OpenId等信息 \n\t\t\t\t\t\n\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\n\n                    },\n\t\t\t\t});\n\t\t\t},\n\t\t\tsetOpenid(){\n\t\t\t\tvar _this=this;\n\n\t\t\t\t\tuni.request({\n\t\t\t\t\turl: this.config.url+\"getOpenid\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tcode: _this.code,\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t  console.log(\"getopenid\",res)\n\t\t\t\t            if(res.data.code==2){\n\t\t\t\t\t\t\t\t_this.OpenId = res.data.data.openid;\n\t\t\t\t\t\t\t\tconsole.log(\"_this.Openid\",_this.Openid);\n\t\t\t\t\t\t\t\t//_this.getinfo();\n\t\t\t\t\t\t\t\t_this.SessionKey = res.data.data.session_key;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\tkey: \"sessionkey\",\n\t\t\t\t\t\t\tdata: _this.SessionKey\n\t\t\t\t\t\t})\n\t\t\t\t\t\t//openId、或SessionKdy存储//隐藏loading\n\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t},\n\t\t\t//向后台更新信息\n\t\t\tupdateUserInfo() {\n\t\t\t\tthis.setOpenid();\n\t\t\t},\n\t\t\tgetinfo(){\n\t\t\t\tlet _this = this;\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: _this.config.url + \"reg\", //服务器端地址\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\topenid: _this.OpenId,\n\t\t\t\t\t\t\theadimg: _this.avatarUrl,\n\t\t\t\t\t\t\tnickname: _this.nickName\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tconsole.log( \"22\",res)\n\t\t\t\t\t\t\tif (res.data.code == 1) {\n\t\t\t\t\t\t\t\tvar info = JSON.stringify(res.data.data)\n\t\t\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\t\t\tkey: \"info\",\n\t\t\t\t\t\t\t\t\tdata: info,\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"用户信息保存成功\")\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\tthis.writePhone = false;\n\n\t\t\t},\n\t\t\t//确认跳转home\n\t\t\tconfirm() {\n\t\t\t\tconsole.log(1)\n\t\t\t\tvar _this = this;\n\t\t\t\tvar result = this.phoneNumber.replace(/(^\\s+)|(\\s+$)/g, \"\");\n\t\t\t\tif (result.length < 1) {\n\t\t\t\t\tconsole.log(2)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"请输入手机号\",\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t})\n\t\t\t\t} else if (!(/^1[3456789]\\d{9}$/.test(this.phoneNumber))) {\n\t\t\t\t\tconsole.log(3)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"请输入正确的手机号\",\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(4)\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: _this.config.url + \"reg\",\n\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\topenid: this.OpenId,\n\t\t\t\t\t\t\theadimg: this.avatarUrl,\n\t\t\t\t\t\t\tnickname: this.nickName,\n\t\t\t\t\t\t\tphone: this.phoneNumber\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tconsole.log(\"reg\", res)\n\t\t\t\t\t\t\tif (res.data.code == 1) {\n\t\t\t\t\t\t\t\tvar userinfo = JSON.stringify(res.data.data)\n\t\t\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\t\t\tkey: \"info\",\n\t\t\t\t\t\t\t\t\tdata: userinfo,\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\t\turl: \"/pages/tabBar/home\"\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonLoad() { //默认加载\n\n\t\t\tuni.getStorage({\n\t\t\t\tkey: \"info\",\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\turl: \"/pages/tabBar/home\"\n\t\t\t\t\t})\n\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\n\t\t\t\t\tthis.login();\n\t\t\t\t}\n\t\t\t})\n\n\t\t}\n\t}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticClass: \"author\" }, [\n    _vm.isCanUse\n      ? _c(\"view\", [\n          _c(\n            \"view\",\n            [\n              _c(\"view\", { staticClass: \"header\" }),\n              _vm._m(0),\n              _c(\n                \"button\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value: _vm.getphone == 1,\n                      expression: \"getphone==1\"\n                    }\n                  ],\n                  staticClass: \"bottom\",\n                  attrs: {\n                    type: \"primary\",\n                    \"open-type\": \"getUserInfo\",\n                    withCredentials: \"true\",\n                    lang: \"zh_CN\",\n                    eventid: \"1558ef67-0\"\n                  },\n                  on: { getuserinfo: _vm.wxGetUserInfo }\n                },\n                [_vm._v(\"授权登录\")]\n              )\n            ],\n            1\n          )\n        ])\n      : _vm._e(),\n    _vm.writePhone\n      ? _c(\"view\", { staticClass: \"writePhone\" }, [\n          _c(\"view\", { staticClass: \"mask\" }),\n          _c(\"view\", { staticClass: \"getphone\" }, [\n            _c(\"text\", { staticClass: \"title\" }, [_vm._v(\"请输入绑定手机号\")]),\n            _c(\"input\", {\n              directives: [\n                {\n                  name: \"model\",\n                  rawName: \"v-model\",\n                  value: _vm.phoneNumber,\n                  expression: \"phoneNumber\"\n                }\n              ],\n              staticClass: \"pnone-number\",\n              attrs: {\n                type: \"text\",\n                placeholder: \"请输入手机号\",\n                eventid: \"1558ef67-1\"\n              },\n              domProps: { value: _vm.phoneNumber },\n              on: {\n                input: function($event) {\n                  if ($event.target.composing) {\n                    return\n                  }\n                  _vm.phoneNumber = $event.target.value\n                }\n              }\n            }),\n            _c(\"view\", { staticClass: \"btns\" }, [\n              _c(\n                \"text\",\n                {\n                  staticClass: \"cancel\",\n                  attrs: { eventid: \"1558ef67-2\" },\n                  on: { click: _vm.cancel }\n                },\n                [_vm._v(\"取消\")]\n              ),\n              _c(\n                \"text\",\n                {\n                  staticClass: \"confirm\",\n                  attrs: { eventid: \"1558ef67-3\" },\n                  on: { tap: _vm.confirm }\n                },\n                [_vm._v(\"确认\")]\n              )\n            ])\n          ])\n        ])\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"view\", { staticClass: \"content\" }, [\n      _c(\"view\", [_vm._v(\"申请获取以下权限\")]),\n      _c(\"text\", [_vm._v('\"获得你的公开信息(昵称，头像、地区,等)\"')])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/author/author.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./author.vue?vue&type=template&id=9fa36716&\"\nimport script from \"./author.vue?vue&type=script&lang=js&\"\nexport * from \"./author.vue?vue&type=script&lang=js&\"\nimport style0 from \"./author.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('9fa36716', component.options)\n    } else {\n      api.reload('9fa36716', component.options)\n    }\n    module.hot.accept(\"./author.vue?vue&type=template&id=9fa36716&\", function () {\n      api.rerender('9fa36716', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/惠普2/Desktop/shanpei-weixin/shanpei-weixin/pages/author/author.vue\"\nexport default component.exports","import mod from \"-!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./author.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./author.vue?vue&type=script&lang=js&\"","import mod from \"-!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./author.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./author.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\搜狗高速下载\\\\HBuilderX.1.1.0.20181030\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./author.vue?vue&type=template&id=9fa36716&\""],"sourceRoot":""}
>>>>>>> 13e556c53e8074841c5a932647a9015b82b2f822
