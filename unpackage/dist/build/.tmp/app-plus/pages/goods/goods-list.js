(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/goods-list"],{6737:function(t,e,o){"use strict";o.r(e);var s=o("b58b"),i=o("f301");for(var r in i)"default"!==r&&function(t){o.d(e,t,function(){return i[t]})}(r);o("dbfc");var a=o("2877"),n=Object(a["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=n.exports},"6a47":function(t,e,o){},aa6e:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={mounted:function(){var e=this;t.request({url:this.config.url+"goods/lists",data:{token:this.token,cate_id:this.key1,sort:1,asc:1,page:1},method:"post",success:function(t){console.log(t," at pages\\goods\\goods-list.vue:50"),e.goodsList=t.data.data.data}})},data:function(){return{goodsList:[],loadingText:"正在加载...",headerTop:"0px",headerPosition:"fixed",orderbyList:[{text:"综合",selected:!0,orderbyicon:!1,orderby:0},{text:"销量",selected:!1,orderbyicon:["sheng","jiang"],orderby:0},{text:"价格",selected:!1,orderbyicon:["sheng","jiang"],orderby:0}],orderby:"sheng",id:"",key1:"",cur_page:0,tol_page:1}},onLoad:function(e){console.log("option",e," at pages\\goods\\goods-list.vue:74"),t.setNavigationBarTitle({title:e.title}),this.key1=e.key},onPageScroll:function(t){t.scrollTop>=0?this.headerPosition="fixed":this.headerPosition="absolute"},onPullDownRefresh:function(){var e=this;setTimeout(function(){e.reload(),t.stopPullDownRefresh()},1e3)},onReachBottom:function(){if(this.cur_page=this.cur_page+1,t.showToast({title:"触发上拉加载"}),this.cur_page>=this.tol_page)return this.loadingText="到底了",!1;this.loadingText="正在加载..."},methods:{sortType:function(e){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.request({url:this.config.url+"goods/lists",data:{token:this.token,cate_id:this.key1,sort:e,asc:s,page:this.cur_page},method:"post",success:function(t){console.log(t.data.data," at pages\\goods\\goods-list.vue:131"),o.goodsList=t.data.data.data,o.cur_page=t.data.data.data.current_page,o.tol_page=t.data.data.data.last_page}})},reload:function(){console.log("reload"," at pages\\goods\\goods-list.vue:139"),this.sortType(1)},toGoods:function(e){console.log(e," at pages\\goods\\goods-list.vue:145");var o=e.id;t.navigateTo({url:"/pages/goods/goods?id="+o})},select:function(e){var o=this.orderbyList[e].text+"排序 ";if(this.orderbyList[e].orderbyicon){var s=0==this.orderbyList[e].orderby?"升序":"降序";this.orderbyList[e].selected&&(s=0==this.orderbyList[e].orderby?"降序":"升序",this.orderbyList[e].orderby=0==this.orderbyList[e].orderby?1:0),o+=s}this.orderbyList[e].selected=!0;for(var i=this.orderbyList.length,r=0;r<i;r++)r!=e&&(this.orderbyList[r].selected=!1);switch(t.showToast({title:o,icon:"none"}),e){case 0:this.sortType(1);break;case 1:this.orderbyList[e].orderby?this.sortType(2,2):this.sortType(2);break;case 2:this.orderbyList[e].orderby?this.sortType(3,2):this.sortType(3);break}}}};e.default=o}).call(this,o("6e42")["default"])},b58b:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c},i=[];o.d(e,"a",function(){return s}),o.d(e,"b",function(){return i})},dbfc:function(t,e,o){"use strict";var s=o("6a47"),i=o.n(s);i.a},f301:function(t,e,o){"use strict";o.r(e);var s=o("aa6e"),i=o.n(s);for(var r in s)"default"!==r&&function(t){o.d(e,t,function(){return s[t]})}(r);e["default"]=i.a}},[["7823","common/runtime","common/vendor"]]]);