(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/home"],{"0362":function(t,e,o){"use strict";o.r(e);var a=o("673b"),n=o("eec2");for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);o("bb54");var s=o("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports},"673b":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},n=[];o.d(e,"a",function(){return a}),o.d(e,"b",function(){return n})},8635:function(t,e,o){},bb54:function(t,e,o){"use strict";var a=o("8635"),n=o.n(a);n.a},eec2:function(t,e,o){"use strict";o.r(e);var a=o("f65c"),n=o.n(a);for(var i in a)"default"!==i&&function(t){o.d(e,t,function(){return a[t]})}(i);e["default"]=n.a},f65c:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(o("78ec"));function n(t){return t&&t.__esModule?t:{default:t}}var i=function(){return o.e("components/uni-load-more/uni-load-more").then(o.bind(null,"32fc"))},s={components:{uniLoadMore:i},mounted:function(){this.init()},data:function(){return{msg:"",msgList:[],showIcon:!1,status:"more",afterHeaderOpacity:1,headerPosition:"fixed",headerTop:null,statusTop:null,city:"北京",currentSwiper:0,swiperList:[],categoryList:[],Promotion:[],hotList:[],limitList:[],productList:[],totalList:[],loadingText:"正在加载...",current_page:0,total:"",last_page:"1",tishi:!1,hot:[],home:!1}},onPageScroll:function(t){this.headerPosition=t.scrollTop>=0?"fixed":"absolute",this.headerTop=t.scrollTop>=0?null:0,this.statusTop=t.scrollTop>=0?null:-this.statusHeight+"px"},onPullDownRefresh:function(){setTimeout(function(){t.stopPullDownRefresh()},1e3)},onReachBottom:function(){this.current_page<this.last_page&&this.getRecommendList()},onReady:function(){},onLoad:function(){this.first_load()},methods:{moreLoad:function(){this.hotList=this.hot},init:function(){t.hideLoading()},first_load:function(){var e=this;t.showLoading({title:"加载中"});var o=new a.default.AMapWX({key:"5b9b64be2413fc19c26683fcf0de890f"});o.getRegeo({success:function(t){e.city=t[0].regeocodeData.addressComponent.city.replace(/市/g,"")}}),t.request({url:this.config.url+"member/message",method:"POST",data:{token:this.token},success:function(t){1==t.data.code&&(e.msgList=t.data.data.data,t.data.data.data.length>0&&(e.msg=!0))}}),t.request({url:this.config.url+"index",data:{token:this.token},method:"post",success:function(t){var o;if(console.log("hoem",t," at pages\\tabBar\\home.vue:264"),1==t.data.code){e.swiperList=t.data.data.banner,e.categoryList=t.data.data.cate,e.limitList=t.data.data.limit_buy,e.hot=t.data.data.hot,o=e.hotList.length<10?e.totalList.length:10;for(var a=0;a<o;a++)e.hotList.push(e.hot[a]);e.home=!0}}})},getRecommendList:function(){var e=this;this.status="loading",t.request({url:this.config.url+"recommend",data:{token:this.token,page:Number(this.current_page)+1},method:"post",success:function(t){var o;e.totalList=t.data.data.data,o=e.totalList.length<10?e.totalList.length:10;for(var a=0;a<o;a++)e.productList.push(e.totalList[a]);e.current_page=t.data.data.current_page,e.last_page=t.data.data.last_page,e.total=t.data.data.data.total,e.status="more",e.current_page>=e.last_page&&(e.status="noMore")}})},toMsg:function(){t.navigateTo({url:"/pages/msg/msg"})},toSearch:function(){var e=this;t.request({url:this.config.url+"keyword",data:{token:this.token},method:"post",success:function(t){console.log(t," at pages\\tabBar\\home.vue:348"),e.searchList=t.data.data}})},toSwiper:function(t,e){},toCategory:function(e){console.log(e," at pages\\tabBar\\home.vue:361"),t.navigateTo({url:"/pages/goods/goods-list?id="+e.id+"&title="+e.title})},toGoods:function(e){t.navigateTo({url:"/pages/goods/goods?id="+e.id})},swiperChange:function(t){this.currentSwiper=t.detail.current}}};e.default=s}).call(this,o("6e42")["default"])}},[["16e5","common/runtime","common/vendor"]]]);