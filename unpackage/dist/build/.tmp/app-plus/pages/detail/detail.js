(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/detail/detail"],{"0e70":function(e,t,o){},3296:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return a})},3723:function(e,t,o){"use strict";o.r(t);var n=o("eb20"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,function(){return n[e]})}(i);t["default"]=a.a},"796e":function(e,t,o){"use strict";var n=o("0e70"),a=o.n(n);a.a},"89c3":function(e,t,o){"use strict";o.r(t);var n=o("3296"),a=o("3723");for(var i in a)"default"!==i&&function(e){o.d(t,e,function(){return a[e]})}(i);o("796e");var s=o("2877"),r=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,null,null);t["default"]=r.exports},eb20:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){return o.e("components/uni-countdown/uni-countdown").then(o.bind(null,"9946"))},a={data:function(){return{style4:"",desc:"",array:[{id:0,name:"我不想买了"},{id:1,name:"信息填写错误"},{id:2,name:"重新拍"},{id:3,name:"卖家缺货"},{id:4,name:"其他原因"}],show_menu:!1,order_no:"",down:!0,hour:"",minute:"",miao:"",string:"",order:"",status:["已取消","等待买家付款","等待买家付款","订单待发货","订单待收货","订单已完成"],status2:["已取消","剩12小时50分钟自动关闭","剩12小时50分钟自动关闭","请耐心等候哦~","宝贝正在努力的向您奔跑~","欢迎您的再次光临！"],goodsList:[],datatime:""}},components:{uniCountdown:n},onLoad:function(e){var t=this;console.log("e",e.id," at pages\\detail\\detail.vue:204"),this.order_no=e.id,this.request({url:this.config.url+"order/detail",method:"POST",data:{order_no:this.order_no,token:this.token},success:function(e){if(console.log("res",e," at pages\\detail\\detail.vue:214"),1==e.data.code){t.goodsList=e.data.data.order_list,t.order=e.data.data;var o=e.data.data.create_at;t.getDistanceTime(o),setInterval(function(){return t.getDistanceTime(o)},1e3),2==t.order.status&&(t.down=!1)}}})},methods:{getDistanceTime:function(e){var t=this,o=new Date(Date.parse(e.replace(/-/g,"/"))),n=new Date,a=864e5,i=o.getTime()+a-n.getTime(),s=0,r=0,d=0;i>=0?(Math.floor(i/1e3/60/60/24),s=Math.floor(i/1e3/60/60%24),r=Math.floor(i/1e3/60%60),d=Math.floor(i/1e3%60)):t.string="已取消",t.string=s+"时"+r+"分"+d+"秒"},cancelOrder:function(){console.log(12222," at pages\\detail\\detail.vue:257"),this.show_menu=!0},cancel:function(){this.show_menu=!1},sure:function(){this.desc?(this.show_menu=!1,this.request({url:this.config.url+"order/cancle",method:"POST",data:{token:this.token,order_no:this.order_no,cancle_desc:this.desc},success:function(t){console.log(t," at pages\\detail\\detail.vue:279"),1==t.data.code?(e.showToast({title:"取消订单成功"}),e.navigateTo({url:"/pages/user/order_list/order_list?tbIndex=1"})):e.showToast({title:"取消订单失败"})}})):e.showToast({title:"请选择退货原因",icon:"none"})},confirm:function(){this.request({url:this.config.url+"order/confirm",data:{token:this.token,order_no:this.order_no},method:"post",success:function(t){console.log(t," at pages\\detail\\detail.vue:314"),e.navigateTo({url:"pages/confirm/confirm"})}})},deleteOrder:function(){var t=this;this.request({url:this.config.url+"order/del",method:"POST",data:{token:this.token,order_no:this.order_no},success:function(o){console.log(o," at pages\\detail\\detail.vue:331"),t.orderList.splice(index,1),1==o.data.code&&e.showToast({title:"删除订单成功"})}})},evalute:function(){e.navigateTo({url:"/pages/user/keep/sayFeel/sayFeel"})},showcityfour:function(e,t){this.style4=e,this.desc=t},toPayment:function(){var t=this;this.request({url:this.config.url+"order/pay",method:"POST",data:{token:this.token,order_no:this.order_no},success:function(o){if(console.log(o," at pages\\detail\\detail.vue:363"),1==o.data.code){var n=o.data.data.data;t.requestPayment({provider:"wxpay",appid:n.appId,timeStamp:n.timeStamp,nonceStr:n.nonceStr,package:n.package,signType:n.signType,paySign:n.paySign,success:function(t){console.log("success:"+JSON.stringify(t)," at pages\\detail\\detail.vue:375"),e.showToast({title:"支付成功"}),e.navigateTo({url:"/pages/user/order_list/order_list?tbIndex=1"})},fail:function(t){e.showToast({title:"支付失败"})}})}else e.showToast({title:o.data.info})}})}},mounted:function(){console.log(this.order_no," at pages\\detail\\detail.vue:405")}};t.default=a}).call(this,o("6e42")["default"])}},[["6bca","common/runtime","common/vendor"]]]);