(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/goods-list"],{"4e54":function(t,e,s){},"73c5":function(t,e,s){"use strict";s.r(e);var i=s("a8eb"),o=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},"953c":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",[s("view",{staticClass:"header",style:{position:t.headerPosition,top:t.headerTop}},t._l(t.orderbyList,function(e,i){return s("view",{key:i,staticClass:"target",class:[e.selected?"on":""],attrs:{eventid:"aad862b6-0-"+i},on:{tap:function(e){t.select(i)}}},[t._v(t._s(e.text)),e.orderbyicon?s("view",{staticClass:"icon",class:e.orderbyicon[e.orderby]}):t._e()])})),s("view",{staticClass:"place"}),s("view",{staticClass:"goods-list"},[s("view",{staticClass:"product-list"},t._l(t.goodsList,function(e,i){return s("view",{key:e.goods_id,staticClass:"product",attrs:{eventid:"aad862b6-1-"+i},on:{tap:function(s){t.toGoods(e)}}},[s("image",{attrs:{src:e.logo}}),s("view",{staticClass:"name"},[t._v(t._s(e.title))]),s("view",{staticClass:"info"},[s("view",{staticClass:"price"},[t._v("￥"+t._s(e.price))]),s("view",{staticClass:"slogan"},[t._v("￥"+t._s(e.market_price))])]),s("view",{staticClass:"evaluate"},[s("view",{staticClass:"evaluate-num"},[t._v(t._s(e.comment_num)+"条评价")]),s("view",{staticClass:"evaluate-good"},[t._v(t._s(e.good_percent)+"%好评")])])])})),t.tip?s("view",{staticClass:"loading-text"},[t._v(t._s(t.loadingText))]):t._e()])])},o=[];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return o})},a8eb:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={mounted:function(){},data:function(){return{goodsList:[],loadingText:"正在加载...",headerTop:"0px",headerPosition:"fixed",orderbyList:[{text:"综合",selected:!0,orderbyicon:!1,orderby:0},{text:"销量",selected:!1,orderbyicon:["sheng","jiang"],orderby:0},{text:"价格",selected:!1,orderbyicon:["sheng","jiang"],orderby:0}],orderby:"sheng",id:"",key1:"",cur_page:0,tol_page:1,tip:!1,hot:"",limit:"",keyword:""}},onLoad:function(e){var s=this;console.log("option",e),"hot"==e.hot?(this.sortType(1,1,1),this.hot=e.hot,t.setNavigationBarTitle({title:"热销产品"})):"limit"==e.limit?(this.sortType(1,1,2),this.limit=e.limit,t.setNavigationBarTitle({title:"限时抢购产品"})):e.keyword?(this.keyword=e.keyword,this.request({url:this.config.url+"goods/lists",method:"post",data:{sort:1,asc:1,keyword:this.keyword},success:function(t){console.log("key",t),s.goodsList=t.data.data.data}})):e.id&&(t.setNavigationBarTitle({title:e.title}),this.key1=e.id,this.fardis(1))},onReachBottom:function(){if(this.cur_page=this.cur_page+1,this.tip=!0,this.cur_page>=this.tol_page)return this.loadingText="没有商品了",!1;this.loadingText="正在加载..."},methods:{fardis:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.request({url:this.config.url+"goods/lists",data:{token:this.token,cate_id:this.key1,sort:t,asc:s,page:this.cur_page},method:"post",success:function(t){e.goodsList=t.data.data.data,e.cur_page=t.data.data.current_page,e.tol_page=t.data.data.last_page}})},word:function(t){var e=this,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2?arguments[2]:void 0);this.tip=!1,this.request({url:this.config.url+"goods/lists",method:"post",data:{sort:1,asc:1,keyword:s},success:function(t){console.log("key",t),e.goodsList=t.data.data.data,e.cur_page=t.data.data.current_page,e.tol_page=t.data.data.last_page}})},sortType:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.tip=!1,this.request({url:this.config.url+"goods/lists",data:{token:this.token,action:i,sort:t,asc:s,page:this.cur_page},method:"post",success:function(t){console.log(t.data.data),e.goodsList=t.data.data.data,e.cur_page=t.data.data.current_page,e.tol_page=t.data.data.last_page}})},reload:function(){this.sortType(1)},toGoods:function(e){console.log(e);var s=e.id;t.navigateTo({url:"/pages/goods/goods?id="+s})},select:function(t){this.orderbyList[t].text;if(this.orderbyList[t].orderbyicon){var e=0==this.orderbyList[t].orderby?"升序":"降序";this.orderbyList[t].selected&&(e=0==this.orderbyList[t].orderby?"降序":"升序",this.orderbyList[t].orderby=0==this.orderbyList[t].orderby?1:0),e}this.orderbyList[t].selected=!0;for(var s=this.orderbyList.length,i=0;i<s;i++)i!=t&&(this.orderbyList[i].selected=!1);if(this.hot)switch(t){case 0:this.sortType(1,1,1);break;case 1:this.orderbyList[t].orderby?this.sortType(2,2,1):this.sortType(2,1,1);break;case 2:this.orderbyList[t].orderby?this.sortType(3,2,1):this.sortType(3,1,1);break}else if(this.limit)switch(t){case 0:this.sortType(1,1,2);break;case 1:this.orderbyList[t].orderby?this.sortType(2,2,2):this.sortType(2,1,2);break;case 2:this.orderbyList[t].orderby?this.sortType(3,2,2):this.sortType(3,1,2);break}else if(this.keyword)switch(t){case 0:this.word(1,1,this.keyword);break;case 1:this.orderbyList[t].orderby?this.word(2,2,this.keyword):this.word(2,1,this.keyword);break;case 2:this.orderbyList[t].orderby?this.word(3,2,this.keyword):this.word(3,1,this.keyword);break}else if(this.key1)switch(t){case 0:this.fardis(1);break;case 1:this.orderbyList[t].orderby?this.fardis(2,2):this.fardis(2);break;case 2:this.orderbyList[t].orderby?this.fardis(3,2):this.fardis(3);break}}}};e.default=s}).call(this,s("543d")["default"])},abe1:function(t,e,s){"use strict";s.r(e);var i=s("953c"),o=s("73c5");for(var a in o)"default"!==a&&function(t){s.d(e,t,function(){return o[t]})}(a);s("ad2f");var r=s("2877"),d=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,null,null);e["default"]=d.exports},ad2f:function(t,e,s){"use strict";var i=s("4e54"),o=s.n(i);o.a},ae04:function(t,e,s){"use strict";s("d23f");var i=a(s("b0ce")),o=a(s("abe1"));function a(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(o.default))}},[["ae04","common/runtime","common/vendor"]]]);