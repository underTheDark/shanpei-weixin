(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/home"],{"0362":function(t,e,s){"use strict";s.r(e);var a=s("daea"),i=s("eec2");for(var o in i)"default"!==o&&function(t){s.d(e,t,function(){return i[t]})}(o);s("bb54");var n=s("2877"),c=Object(n["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},"16e5":function(t,e,s){"use strict";s("9bb1");var a=o(s("b0ce")),i=o(s("0362"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(i.default))},8635:function(t,e,s){},b3b5:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(s("32fc")),i=o(s("78ec"));function o(t){return t&&t.__esModule?t:{default:t}}var n={components:{uniLoadMore:a.default},mounted:function(){this.init()},data:function(){return{msg:"",msgList:[],showIcon:!1,status:"more",afterHeaderOpacity:1,headerPosition:"fixed",headerTop:null,statusTop:null,city:"北京",currentSwiper:0,swiperList:[],categoryList:[],Promotion:[],hotList:[],limitList:[],productList:[],totalList:[],loadingText:"正在加载...",current_page:0,total:"",last_page:"1",tishi:!1,hot:[],home:!1}},onPageScroll:function(t){this.headerPosition=t.scrollTop>=0?"fixed":"absolute",this.headerTop=t.scrollTop>=0?null:0,this.statusTop=t.scrollTop>=0?null:-this.statusHeight+"px"},onPullDownRefresh:function(){setTimeout(function(){t.stopPullDownRefresh()},1e3)},onReachBottom:function(){this.current_page<this.last_page&&this.getRecommendList()},onReady:function(){},onLoad:function(){this.first_load()},methods:{moreLoad:function(){this.hotList=this.hot},init:function(){t.hideLoading()},first_load:function(){var e=this;t.showLoading({title:"加载中"});var s=new i.default.AMapWX({key:"5b9b64be2413fc19c26683fcf0de890f"});s.getRegeo({success:function(t){e.city=t[0].regeocodeData.addressComponent.city.replace(/市/g,"")}}),t.request({url:this.config.url+"member/message",method:"POST",data:{token:this.token},success:function(t){1==t.data.code&&(e.msgList=t.data.data.data,t.data.data.data.length>0&&(e.msg=!0))}}),t.request({url:this.config.url+"index",data:{token:this.token},method:"post",success:function(t){var s;if(console.log("hoem",t),1==t.data.code){e.swiperList=t.data.data.banner,e.categoryList=t.data.data.cate,e.limitList=t.data.data.limit_buy,e.hot=t.data.data.hot,s=e.hotList.length<10?e.totalList.length:10;for(var a=0;a<s;a++)e.hotList.push(e.hot[a]);e.home=!0}}})},getRecommendList:function(){var e=this;this.status="loading",t.request({url:this.config.url+"recommend",data:{token:this.token,page:Number(this.current_page)+1},method:"post",success:function(t){var s;e.totalList=t.data.data.data,s=e.totalList.length<10?e.totalList.length:10;for(var a=0;a<s;a++)e.productList.push(e.totalList[a]);e.current_page=t.data.data.current_page,e.last_page=t.data.data.last_page,e.total=t.data.data.data.total,e.status="more",e.current_page>=e.last_page&&(e.status="noMore")}})},toMsg:function(){t.navigateTo({url:"/pages/msg/msg"})},toSearch:function(){var e=this;t.request({url:this.config.url+"keyword",data:{token:this.token},method:"post",success:function(t){console.log(t),e.searchList=t.data.data}})},toSwiper:function(t,e){},toCategory:function(e){console.log(e),t.navigateTo({url:"/pages/goods/goods-list?id="+e.id+"&title="+e.title})},toGoods:function(e){t.navigateTo({url:"/pages/goods/goods?id="+e.id})},swiperChange:function(t){this.currentSwiper=t.detail.current}}};e.default=n}).call(this,s("543d")["default"])},bb54:function(t,e,s){"use strict";var a=s("8635"),i=s.n(a);i.a},daea:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.home?s("view",{staticClass:"home"},[s("view",{staticClass:"status",style:{position:t.headerPosition,top:t.statusTop,opacity:t.afterHeaderOpacity}}),s("view",{staticClass:"header",style:{position:t.headerPosition,top:t.headerTop,opacity:t.afterHeaderOpacity}},[s("view",{staticClass:"addr"},[s("view",{staticClass:"icon location"}),t._v(t._s(t.city))]),s("view",{staticClass:"input-box"},[s("input",{attrs:{placeholder:"搜索商品名称","placeholder-style":"color:#c0c0c0;",eventid:"0c1a97ce-0"},on:{tap:function(e){t.toSearch()}}}),s("view",{staticClass:"icon search"})]),s("view",{staticClass:"icon-btn"},[s("view",{staticClass:"hongdian"}),s("view",{directives:[{name:"show",rawName:"v-show",value:t.msg,expression:"msg"}],staticClass:"hongdian"}),s("view",{staticClass:"icon tongzhi",attrs:{eventid:"0c1a97ce-1"},on:{tap:t.toMsg}})])]),s("view",{staticClass:"place"}),s("view",{staticClass:"swiper"},[s("view",{staticClass:"swiper-box"},[s("swiper",{attrs:{circular:"true",autoplay:"true",eventid:"0c1a97ce-3"},on:{change:t.swiperChange}},t._l(t.swiperList,function(e,a){return s("swiper-item",{key:e.id,attrs:{current:"index",mpcomid:"0c1a97ce-0-"+a}},[s("image",{attrs:{src:e.cover,eventid:"0c1a97ce-2-"+a},on:{tap:function(s){t.toSwiper(e,a)}}})])})),s("view",{staticClass:"indicator"},[s("view",[t._v(t._s(t.currentSwiper+1))]),s("view",[t._v("/ "+t._s(t.swiperList.length))])])],1)]),s("view",{staticClass:"category-list"},t._l(t.categoryList,function(e,a){return s("view",{key:a,staticClass:"category",attrs:{eventid:"0c1a97ce-4-"+a},on:{tap:function(s){t.toCategory(e)}}},[s("view",{staticClass:"img"},[s("image",{attrs:{src:e.logo}})]),s("view",{staticClass:"text"},[t._v(t._s(e.title))])])})),s("view",{staticClass:"bj-color"}),t._m(0),s("view",{staticClass:"promotion"},[s("view",{staticClass:"promotion-head"},[s("view",{staticClass:"promotion-head-left"},[s("h2",{staticClass:"title"},[t._v("限时抢购")]),t._m(1)],1)]),s("view",{staticClass:"hot-list"},t._l(t.limitList,function(e,a){return s("view",{key:a,staticClass:"hot-list-item",attrs:{eventid:"0c1a97ce-5-"+a},on:{tap:function(s){t.toGoods(e)}}},[s("view",{staticClass:"item-img"},[s("image",{attrs:{src:e.logo}})]),s("view",{staticClass:"item-title"},[t._v(t._s(e.title))]),s("view",{staticClass:"item-price"},[s("text",[t._v(t._s(e.price))]),s("text",[t._v(t._s(e.market_price))])])])}))]),s("view",{staticClass:"hot promotion"},[s("view",{staticClass:"promotion-head"},[s("view",{staticClass:"promotion-head-left"},[s("h2",{staticClass:"title"},[t._v("热销产品")]),t._m(2)],1),s("view",{staticClass:"promotion-head-right",attrs:{eventid:"0c1a97ce-6"},on:{click:t.moreLoad}},[t._v("更多")])]),s("view",{staticClass:"hot-list"},t._l(t.hotList,function(e,a){return s("view",{key:a,staticClass:"hot-list-item",attrs:{eventid:"0c1a97ce-7-"+a},on:{tap:function(s){t.toGoods(e)}}},[s("view",{staticClass:"item-img"},[s("image",{attrs:{src:e.logo}})]),s("view",{staticClass:"item-title"},[t._v(t._s(e.title))]),s("view",{staticClass:"item-price"},[s("text",[t._v(t._s(e.price))]),s("text",[t._v(t._s(e.market_price))])])])}))]),s("view",{staticClass:"goods-list"},[s("view",{staticClass:"title"},[t._v("为你推荐")]),s("view",{staticClass:"product-list"},t._l(t.productList,function(e,a){return s("view",{key:a,staticClass:"product",attrs:{eventid:"0c1a97ce-8-"+a},on:{tap:function(s){t.toGoods(e)}}},[s("image",{attrs:{mode:"widthFix",src:e.logo}}),s("view",{staticClass:"name"},[t._v(t._s(e.title))]),s("view",{staticClass:"info"},[s("view",{staticClass:"price"},[t._v(t._s(e.price))]),s("view",{staticClass:"slogan"},[t._v(t._s(e.market_price))])])])}))]),s("uni-load-more",{attrs:{status:t.status,showIcon:t.showIcon,mpcomid:"0c1a97ce-1"}})],1):t._e()},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"banner"},[s("image",{attrs:{src:"../../static/img/category/jijian.png"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"english"},[s("text",[t._v("FLASH")]),s("text",[t._v("SALES")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"english"},[s("text",[t._v("HOT-SALE")]),s("text",[t._v("PRODUCT")])])}];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i})},eec2:function(t,e,s){"use strict";s.r(e);var a=s("b3b5"),i=s.n(a);for(var o in a)"default"!==o&&function(t){s.d(e,t,function(){return a[t]})}(o);e["default"]=i.a}},[["16e5","common/runtime","common/vendor"]]]);