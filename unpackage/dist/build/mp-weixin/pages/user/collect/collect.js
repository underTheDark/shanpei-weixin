(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/collect/collect"],{"40a2":function(t,e,i){"use strict";i.r(e);var s=i("4351"),o=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e["default"]=o.a},4351:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i("bd18")),o=n(i("34fd"));function n(t){return t&&t.__esModule?t:{default:t}}var a={components:{uniSwipeAction:s.default,uniLoadMore:o.default},data:function(){return{options:[{text:"删除",style:{backgroundColor:"rgba(255,84,31,1)"}}],goodsList:[],theIndex:null,oldIndex:null,isStop:!1,loading:"more",current_page:1,last_page:"",status:"more"}},methods:{requestColl:function(t){var e=this,i=this;this.request({url:this.config.url+"member/collect",method:"post",data:{token:this.token},success:function(t){console.log(t),1==t.data.code&&(i.goodsList=t.data.data.data,e.last_page=t.data.data.last_page,e.status="more",e.current_page>=e.last_page&&(e.status="noMore"))}})},bindClick:function(t,e){var i=this;this.request({url:this.config.url+"goods/collect",method:"POST",data:{goods_id:e,token:this.token},success:function(e){console.log(e),1==e.data.code&&i.goodsList.splice(t,1)}})},touchStart:function(t,e){e.touches.length>1?this.isStop=!0:(this.oldIndex=this.theIndex,this.theIndex=null,this.initXY=[e.touches[0].pageX,e.touches[0].pageY])},touchMove:function(t,e){var i=this;if(e.touches.length>1)this.isStop=!0;else{var s=e.touches[0].pageX-this.initXY[0],o=e.touches[0].pageY-this.initXY[1];this.isStop||Math.abs(s)<5||(Math.abs(o)>Math.abs(s)?this.isStop=!0:s<0?(this.theIndex=t,this.isStop=!0):s>0&&null!=this.theIndex&&this.oldIndex==this.theIndex&&(this.oldIndex=t,this.theIndex=null,this.isStop=!0,setTimeout(function(){i.oldIndex=null},150)))}},touchEnd:function(t,e){this.isStop=!1},deleteGoods:function(t,e){this.goodsList.splice(t,1),this.delCart(e)},toGoods:function(e){t.navigateTo({url:"/pages/goods/goods?id="+e})},delCart:function(t){console.log("id",t),this.request({url:this.config.url+"goods/collect",method:"POST",data:{token:this.token,goods_id:t},success:function(t){console.log("res",t)}})}},onReachBottom:function(){this.current_page++,this.current_page>this.last_page||this.requestColl(this.current_page)},onLoad:function(){this.requestColl(this.current_page)}};e.default=a}).call(this,i("543d")["default"])},4996:function(t,e,i){"use strict";var s=i("9a35"),o=i.n(s);o.a},"4aac":function(t,e,i){},"4b54":function(t,e,i){"use strict";i.r(e);var s=i("ae47"),o=i("40a2");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("4996");var a=i("2877"),c=Object(a["a"])(o["default"],s["a"],s["b"],!1,null,null,null);e["default"]=c.exports},"510a":function(t,e,i){"use strict";i("d23f");var s=n(i("b0ce")),o=n(i("4b54"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(o.default))},"7e2f":function(t,e,i){"use strict";i.r(e);var s=i("8f38"),o=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e["default"]=o.a},"8f38":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-swipe-action",props:{isOpened:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autoClose:{type:Boolean,default:!0},options:Array},watch:{isOpened:function(t,e){this.isShowBtn=!!t,this.endMove()}},data:function(){var t="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{elId:t,isShowBtn:!1,transformX:"translateX(0px)"}},created:function(){this.direction="",this.startX=0,this.startY=0,this.btnGroupWidth=0,this.isMoving=!1},onReady:function(){this.getSize()},methods:{getSize:function(){var e=this;t.createSelectorQuery().in(this).select("#".concat(this.elId)).boundingClientRect().exec(function(t){e.btnGroupWidth=t[0].width}),!0===this.isOpened&&(this.isShowBtn=!0,this.endMove())},bindClickBtn:function(t,e){this.$emit("click",{text:t.text,style:t.style,index:e})},bindClickCont:function(t){this.isShowBtn&&!0===this.autoClose&&(this.isShowBtn=!1,this.endMove())},touchStart:function(t){this.startX=t.touches[0].pageX,this.startY=t.touches[0].pageY},touchMove:function(t){if("Y"!==this.direction&&!0!==this.disabled){var e=t.touches[0].pageY-this.startY,i=t.touches[0].pageX-this.startX;!this.isMoving&&Math.abs(e)>Math.abs(i)?this.direction="Y":(this.direction=i>0?"right":"left",this.isMoving=!0)}},touchEnd:function(t){this.isMoving=!1,"right"===this.direction||"left"===this.direction?("right"==this.direction?this.isShowBtn=!1:this.isShowBtn=!0,this.endMove()):this.direction=""},endMove:function(){"Y"!==this.direction&&!0!==this.disabled?(this.isShowBtn?(this.transformX="translateX(".concat(-this.btnGroupWidth,"px)"),this.$emit("opened")):(this.transformX="translateX(0px)",this.$emit("closed")),this.direction=""):this.direction=""},close:function(){this.isShowBtn=!1,this.endMove()}}};e.default=i}).call(this,i("543d")["default"])},"9a35":function(t,e,i){},ae47:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"collect"},[i("view",{staticClass:"list"},[i("view",{staticClass:"place"}),i("view",{staticClass:"goods-list goods"},t._l(t.goodsList,function(e,s){return i("view",{key:s,staticClass:"row",staticStyle:{"border-bottom":"20rpx solid #F7F7F7"},attrs:{eventid:"12794918-2-"+s},on:{tap:function(i){t.toGoods(e.goods_id)}}},[i("view",{staticClass:"menu",attrs:{eventid:"12794918-0-"+s},on:{tap:function(i){i.stopPropagation(),t.deleteGoods(s,e.goods_id)}}},[i("view",{staticClass:"icon shanchu"})]),i("view",{staticClass:"carrier",class:[t.theIndex==s?"open":t.oldIndex==s?"close":""],attrs:{eventid:"12794918-1-"+s},on:{touchstart:function(e){t.touchStart(s,e)},touchmove:function(e){t.touchMove(s,e)},touchend:function(e){t.touchEnd(s,e)}}},[i("view",{staticClass:"goods-info"},[i("view",{staticClass:"img"},[i("image",{attrs:{src:e.logo}})]),i("view",{staticClass:"info"},[i("view",{staticClass:"title"},[t._v(t._s(e.title))]),i("view",{staticClass:"spec"},[t._v(t._s(e.number_sales)+"人已购买   "+t._s(e.good_percent)+"%好评")]),i("view",{staticClass:"price-number"},[i("view",{staticClass:"price"},[i("text",[t._v("￥"+t._s(e.price))]),i("text",[t._v("￥"+t._s(e.market_price))])])])])])])])}))]),i("uni-load-more",{attrs:{status:t.status,mpcomid:"12794918-0"}})],1)},o=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return o})},bd18:function(t,e,i){"use strict";i.r(e);var s=i("f3fe"),o=i("7e2f");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("c068");var a=i("2877"),c=Object(a["a"])(o["default"],s["a"],s["b"],!1,null,null,null);e["default"]=c.exports},c068:function(t,e,i){"use strict";var s=i("4aac"),o=i.n(s);o.a},f3fe:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"uni-swipe-action"},[i("view",{staticClass:"uni-swipe-action__container",class:{"uni-swipe-action--show":t.isShowBtn},style:{transform:t.transformX,"-webkit-transform":t.transformX},attrs:{eventid:"4c06183c-1"},on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd,touchcancel:t.touchEnd,click:t.bindClickCont}},[i("view",{staticClass:"uni-swipe-action__content"},[t._t("default",null,{mpcomid:"4c06183c-0"})],2),i("view",{staticClass:"uni-swipe-action__btn-group",attrs:{id:t.elId}},t._l(t.options,function(e,s){return i("div",{key:s,staticClass:"uni-swipe-action--btn",style:{backgroundColor:e.style&&e.style.backgroundColor?e.style.backgroundColor:"#C7C6CD",color:e.style&&e.style.color?e.style.color:"#FFFFFF",fontSize:e.style&&e.style.fontSize?e.style.fontSize:"28upx"},attrs:{eventid:"4c06183c-0-"+s},on:{click:function(i){t.bindClickBtn(e,s)}}},[t._v(t._s(e.text))])}))]),t.isShowBtn?i("view",{staticClass:"uni-swipe-action__mask",attrs:{eventid:"4c06183c-2"},on:{click:t.close,touchmove:function(e){e.stopPropagation(),e.preventDefault(),t.close(e)}}}):t._e()])},o=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return o})}},[["510a","common/runtime","common/vendor"]]]);