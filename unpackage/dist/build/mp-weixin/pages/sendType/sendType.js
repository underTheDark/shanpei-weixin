(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/sendType/sendType"],{"5d03":function(t,e,s){"use strict";s("d23f");var a=i(s("b0ce")),n=i(s("9072"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(n.default))},9072:function(t,e,s){"use strict";s.r(e);var a=s("c07d"),n=s("d4d9");for(var i in n)"default"!==i&&function(t){s.d(e,t,function(){return n[t]})}(i);s("aacf");var o=s("2877"),c=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},aacf:function(t,e,s){"use strict";var a=s("c6b5"),n=s.n(a);n.a},c07d:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"sendType"},[s("view",{staticClass:"send-type"},[s("view",{class:{on:"self"==t.typeClass},attrs:{eventid:"4434a690-0"},on:{tap:function(e){t.switchType("self")}}},[t._v("自提")]),s("view",{class:{on:"home"==t.typeClass},attrs:{eventid:"4434a690-1"},on:{tap:function(e){t.switchType("home")}}},[t._v("送货上门")])]),s("view",{staticClass:"send-add"},[s("view",{directives:[{name:"show",rawName:"v-show",value:2==t.subState,expression:"subState==2"}]},t._l(t.homeList,function(e,a){return s("view",{key:a,staticClass:"add-list",attrs:{eventid:"4434a690-2-"+a},on:{tap:function(s){t.selectHome(e.id,e)}}},[s("view",{staticClass:"add-left"},[s("checkbox",{staticClass:"checkbox",attrs:{checked:e.id==t.homeNum}})],1),s("view",{staticClass:"add-right"},[s("view",{staticClass:"address-user-top"},[s("text",[t._v(t._s(e.username))]),s("text",[t._v(t._s(e.phone))])]),s("view",{staticClass:"address-user-bottom"},[t._v(t._s(e.province)+t._s(e.city)+t._s(e.area)+t._s(e.address)+t._s(e.street))])])])})),s("view",{directives:[{name:"show",rawName:"v-show",value:1==t.subState,expression:"subState==1"}],staticClass:"addr-home"},t._l(t.selfList,function(e,a){return s("view",{key:a,staticClass:"addr-info",attrs:{eventid:"4434a690-3-"+a},on:{tap:function(s){t.selectSelf(e.id,e)}}},[s("view",{staticClass:"addr-far"},[s("text",[t._v(t._s(e.username))]),s("text",[t._v(t._s(e.distance)+" km")])]),s("text",{staticClass:"getgoods-msg"},[t._v(t._s(e.username)+"   "+t._s(e.phone))]),s("text",{staticClass:"getgoods-addr"},[t._v(t._s(e.province_name)+t._s(e.city_name)+t._s(e.area_name)+t._s(e.address_name)+t._s(e.street_name))])])}))]),s("view",{directives:[{name:"show",rawName:"v-show",value:2==t.subState,expression:"subState==2"}],staticClass:"add"},[s("view",{staticClass:"btn",attrs:{eventid:"4434a690-4"},on:{tap:t.add}},[s("view",{staticClass:"icon tianjia"}),t._v("新增地址")])])])},n=[];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return n})},c6b5:function(t,e,s){},d4d9:function(t,e,s){"use strict";s.r(e);var a=s("faf9"),n=s.n(a);for(var i in a)"default"!==i&&function(t){s.d(e,t,function(){return a[t]})}(i);e["default"]=n.a},faf9:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(s("0185"));function n(t){return t&&t.__esModule?t:{default:t}}var i={onShow:function(){var t=this;this.request({url:this.config.url+"order/store",method:"post",data:{token:this.token,lat:this.lat,lng:this.lng},success:function(e){console.log("zi",e.data),1==e.data.code&&(t.selfList=e.data.data.data)}}),this.request({url:this.config.url+"member/address",method:"post",data:{token:this.token},success:function(e){1==e.data.code&&(t.homeList=e.data.data)}})},onLoad:function(){var t=this,e=new a.default.AMapWX({key:"5b9b64be2413fc19c26683fcf0de890f"});e.getRegeo({success:function(e){t.city=e[0].regeocodeData.addressComponent.city.replace(/市/g,""),t.lat=e[0].latitude,t.lng=e[0].longitude,console.log(t.lat,t.lng),t.request({url:t.config.url+"order/store",method:"post",data:{token:t.token,lat:t.lat,lng:t.lng},success:function(e){console.log("zi",e.data),1==e.data.code&&(t.selfList=e.data.data.data)}})}})},data:function(){return{homeNum:0,subState:1,typeClass:"self",city:"",addr:{},selfList:[],homeList:[],checked:"",lat:"",lng:""}},methods:{switchType:function(t){this.typeClass=t,"home"==t?this.subState=2:"self"==t&&(this.subState=1)},add:function(){t.navigateTo({url:"/pages/user/address/edit/edit"})},selectHome:function(e,s){this.homeNum=e;var a=JSON.stringify(s);console.log(e,s,this.checked),t.setStorage({key:"selectHome",data:1}),t.setStorage({key:"address",data:a,success:function(){}}),t.navigateTo({url:"/pages/order/confirmation"})},selectSelf:function(e,s){var a=JSON.stringify(s);t.setStorage({key:"address",data:a,success:function(){}}),t.navigateTo({url:"/pages/order/confirmation"})}}};e.default=i}).call(this,s("543d")["default"])}},[["5d03","common/runtime","common/vendor"]]]);